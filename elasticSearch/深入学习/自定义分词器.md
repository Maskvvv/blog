# 索引分词

## 全汉字前缀

```json
GET /_analyze
{
  "tokenizer": "keyword",
  "filter": [
    {
      "type": "edge_ngram",
      "min_gram": 1,
      "max_gram": 50
    }
  ],
  "text": [
    "c++北京字节跳动"
  ]
}
```

## 拼音全拼前缀

```json
GET /_analyze
{
  "tokenizer": "keyword",
  "filter": [
    {
      "type": "edge_ngram",
      "min_gram": 1,
      "max_gram": 50
    },
    {
      "type": "pinyin",
      "keep_original": true,
      "keep_first_letter": false,
      "keep_full_pinyin":false,
      "keep_joined_full_pinyin": true,
      "keep_none_chinese_together": true,
      "keep_none_chinese_in_joined_full_pinyin": true,
      "none_chinese_pinyin_tokeniz": false,
      "keep_none_chinese": false,
      "ignore_pinyin_offset": false
    }
  ],
  "text": [
    "c++12北京字节跳动"
  ]
}
```

## 拼音首字母前缀

```json
GET /_analyze
{
  "tokenizer": "keyword",
  "filter": [
    {
      "type": "edge_ngram",
      "min_gram": 1,
      "max_gram": 50
    },
    {
      
      "type": "pinyin",
      "keep_original": true,
      "keep_full_pinyin":false,
      "limit_first_letter_length": 50,
      "none_chinese_pinyin_tokeniz": false,
      "keep_none_chinese": false,
      "ignore_pinyin_offset": false
    }
  ],
  "text": [
    "c++12北京字节跳动"
  ]
}
```

# 搜索分词

## 全拼+汉字 ->全拼

```json
GET /_analyze
{
  "tokenizer": "keyword",
  "filter": [
    {
      "type": "pinyin",
      "keep_original": true,
      "keep_first_letter": false,
      "keep_full_pinyin":false,
      "keep_joined_full_pinyin": true,
      "keep_none_chinese_together": true,
      "keep_none_chinese_in_joined_full_pinyin": true,
      "none_chinese_pinyin_tokeniz": false,
      "keep_none_chinese": false,
      "ignore_pinyin_offset": false
    }
  ],
  "text": [
    "北京zijie"
  ]
}
```

## 汉字+单个字母 -> 拼音首字母

```json
GET /_analyze
{
  "tokenizer": "keyword",
  "filter": [
    {
      
      "type": "pinyin",
      "keep_original": true,
      "keep_full_pinyin":false,
      "limit_first_letter_length": 50,
      "none_chinese_pinyin_tokeniz": false,
      "keep_none_chinese": false,
      "ignore_pinyin_offset": false
    }
  ],
  "text": [
    "北京z"
  ]
}
```

